local commitHash
commitHash="$(git log --color=always --graph --format="%C(auto)%x00%h%x00%d %s %C(black)%C(bold)%cr" | fzf -m --preview "echo {} | grep -o '[a-f0-9]\{7\}' | xargs -I_ git log --color=always --reverse --format='%C(auto)%h %s' _..HEAD")"

# PCRE拡張正規表現なのでgnu-grepがないと動かない
BUFFER="${BUFFER} $(echo "$commitHash" | grep -oaP '(?<=\00)(.*)(?=\00)')"

# TODO:mac環境下でも動かしたいときは拡張正規表現(ERE)でsedを利用する
# BUFFER="${BUFFER} $(echo "$commitHash" | sed -E 's/\00(.*)\00/\1/')"

CURSOR=${#BUFFER}
